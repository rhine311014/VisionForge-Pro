<?xml version="1.0" encoding="UTF-8"?>
<hdevelop file_version="1.2" halcon_version="22.11.0.0">
<procedure name="main">
<interface/>
<body>
<c>** 区域转换为轮廓1</c>
<l>gen_region_runs (ROI_0, [74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370], [115,114,112,112,111,109,109,109,109,109,108,108,108,108,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,108,108,108,113,117,117,117,116,116,116,116,116,116,116,116,116,115,115,115,115,115,115,114,114,114,114,114,114,114,113,113,113,113,112,112,112,112,112,111,111,111,111,111,111,109,109,109,109,108,108,108,108,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,108,108,109,109,109,109,109,112,112,113,114,114,114,114,115,116,116,117,118,118,118,118,120,121,121,122,122,123,123,123,123,124,125,125,126,126,127,127,128,129,129,130,130,131,132,132,132,133,133,133,134,135,136,136,136,136,137,137,139,140,140,141,141,141,142,143,143,143,145,145,145,146,148,149,150,150,150,152,153,154,154,156,159,159,160,160,164,165,168,179,186,186,186,186,186,186,186,186,186,186,186,184,183,183,183,183,183,182,181,181,181,180,180,180,179,179,179,177,177,177,176,174,174,174,173,173,172,171,171,170,170,170,169,169,168,168,167,167,167,165,165,165,164,163,163,163,163,162,162,162,161,161,161,161,160,160,159,159,159,159,159,159,159,159,159,159,159,159,159,159,160,161,161,162,163,165,166], [136,145,148,153,156,160,163,170,174,174,177,179,186,190,195,199,203,209,210,216,219,224,227,233,237,239,239,240,245,246,248,249,255,255,257,258,262,262,262,263,264,266,266,268,268,272,273,273,277,280,291,293,296,297,303,303,304,306,308,313,315,319,321,326,328,328,331,333,340,341,346,348,355,358,359,360,362,367,367,369,370,371,371,371,372,372,372,372,372,372,371,371,371,371,371,371,371,371,371,371,371,371,370,370,370,370,369,369,369,369,369,369,369,369,369,368,368,368,368,367,367,367,367,367,367,366,366,365,365,365,365,365,364,363,362,362,362,362,362,362,362,360,360,360,360,360,359,358,358,358,357,356,356,356,355,353,353,353,352,352,352,351,351,350,350,349,348,348,347,347,347,346,344,344,343,343,342,342,341,340,340,340,339,338,338,338,336,335,335,335,334,334,333,333,332,332,332,330,330,330,329,329,329,327,327,327,327,326,324,324,323,323,322,321,320,320,320,319,319,318,315,315,314,313,313,313,312,311,310,310,308,308,306,306,305,304,304,303,302,301,300,299,299,299,296,295,294,293,292,291,290,289,289,287,285,284,283,281,281,277,277,276,275,274,273,272,271,270,268,268,267,265,264,262,260,257,256,254,253,252,250,249,246,245,243,242,239,238,235,234,232,229,227,221,220,215,211])</l>
<l>gen_contour_region_xld (ROI_0, Contours, 'border')</l>
<c></c>
<c>** 区域转换为轮廓第二种方式</c>
<l>read_image (Image, 'printer_chip/printer_chip_01')</l>
<l>threshold (Image, Region, 128, 255)</l>
<l>skeleton (Region, Skeleton)</l>
<l>gen_contours_skeleton_xld (Skeleton, Contours, 1, 'filter')</l>
<c></c>
<c></c>
<c></c>
<c>*UnionContours1为输入的xld轮廓</c>
<l>sort_contours_xld (Contours, SortedContours, 'upper_left', 'true', 'column')</l>
<l>count_obj (Contours, Number)</l>
<c>*将轮廓转换成区域 1  </c>
<l>gen_empty_obj (Line)</l>
<l>for i := 1 to Number by 1</l>
<l>    select_obj (SortedContours, ObjectSelected, i)</l>
<l>    get_contour_xld (ObjectSelected, Row, Col)   </l>
<l>    gen_region_polygon (Region, Row, Col)</l>
<l>    concat_obj (Line, Region, Line)</l>
<l>endfor</l>
<l>stop ()</l>
<c>*将轮廓转换成区域 2</c>
<c>*创建空白图像，将得到的区域贴到上面</c>
<l>dev_display (Image)</l>
<l>gen_rectangle1 (ROI_0, 446.336, 307.399, 763.412, 597.819)</l>
<l>reduce_domain (Image, ROI_0, ImageReduced)</l>
<l>get_image_size (ImageReduced, Width1, Height1)</l>
<l>gen_image_proto (ImageReduced, ImageCleared, 0)</l>
<l>paint_region (Line, ImageCleared, ImageResult1, 255, 'fill')</l>
</body>
<docu id="main">
<parameters/>
</docu>
</procedure>
</hdevelop>
