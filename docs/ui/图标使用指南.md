# VisionForge Pro - 图标使用指南

## 概述

VisionForge Pro已经配置了专业的工业深色主题和图标系统。目前使用Qt内置的标准图标作为占位符。您可以按照本指南添加自定义图标，使界面更加专业。

---

## 当前主题特性

### ✅ 已实现的功能

- **工业深色主题**：类似Halcon的专业深色配色方案
- **图标管理系统**：集中化的图标管理（Theme类）
- **Qt标准图标**：作为备用图标自动使用Qt内置图标
- **状态栏提示**：所有菜单和工具栏项都有详细的状态提示
- **完整的主题样式**：菜单栏、工具栏、停靠窗口、按钮等所有控件都已美化

### 主题颜色方案

```
背景色：
- 主背景：  #1e1e1e (深灰)
- 次背景：  #2b2b2b (中灰)
- 控件背景：#2d2d30 (深蓝灰)
- 输入框：  #3f3f46 (浅灰)

强调色：
- 主色调：  #007acc (蓝色 - 类似Visual Studio Code)
- 悬停：    #1177bb (亮蓝)
- 按下：    #094771 (深蓝)

文本色：
- 主文本：  #d4d4d4 (浅灰白)
- 禁用：    #808080 (灰色)
- 链接：    #007acc (蓝色)

状态栏：
- 背景：    #007acc (蓝色)
- 文本：    #ffffff (白色)
```

---

## 添加自定义图标

### 方法1：使用PNG/SVG图标（推荐）

#### 步骤1：创建图标目录结构

```bash
VisionForge Pro/
└── resources/
    └── icons/
        ├── file-open.png           # 文件操作
        ├── file-save.png
        ├── file-save-as.png
        ├── file-close.png
        ├── application-exit.png
        ├── zoom-in.png             # 视图操作
        ├── zoom-out.png
        ├── zoom-fit-best.png
        ├── zoom-original.png
        ├── list-add.png            # 工具操作
        ├── list-remove.png
        ├── go-up.png
        ├── go-down.png
        ├── media-playback-start.png
        ├── media-playback-stop.png
        ├── camera-photo.png        # 相机操作
        ├── camera-video.png
        ├── camera-web.png
        ├── preferences-system.png  # 应用程序
        ├── help-browser.png
        └── help-about.png
```

#### 步骤2：创建Qt资源文件

创建 `resources/resources.qrc`：

```xml
<!DOCTYPE RCC>
<RCC version="1.0">
    <qresource prefix="/">
        <qresource prefix="/icons">
            <!-- 文件操作 -->
            <file>icons/file-open.png</file>
            <file>icons/file-save.png</file>
            <file>icons/file-save-as.png</file>
            <file>icons/file-close.png</file>
            <file>icons/application-exit.png</file>

            <!-- 视图操作 -->
            <file>icons/zoom-in.png</file>
            <file>icons/zoom-out.png</file>
            <file>icons/zoom-fit-best.png</file>
            <file>icons/zoom-original.png</file>

            <!-- 工具操作 -->
            <file>icons/list-add.png</file>
            <file>icons/list-remove.png</file>
            <file>icons/go-up.png</file>
            <file>icons/go-down.png</file>
            <file>icons/media-playback-start.png</file>
            <file>icons/media-playback-stop.png</file>

            <!-- 相机操作 -->
            <file>icons/camera-photo.png</file>
            <file>icons/camera-video.png</file>
            <file>icons/camera-web.png</file>

            <!-- 应用程序 -->
            <file>icons/preferences-system.png</file>
            <file>icons/help-browser.png</file>
            <file>icons/help-about.png</file>
        </qresource>
    </qresource>
</RCC>
```

#### 步骤3：更新CMakeLists.txt

在 `src/CMakeLists.txt` 中启用资源文件：

```cmake
# 资源文件
set(RESOURCE_FILES
    ${CMAKE_SOURCE_DIR}/resources/resources.qrc
)

# 创建可执行文件
add_executable(VisionForge
    ${MAIN_SOURCES}
    ${RESOURCE_FILES}  # 取消注释
)
```

#### 步骤4：重新编译项目

```bash
cd build
cmake ..
cmake --build . --config Release
```

### 方法2：从网上下载图标

#### 推荐的图标资源

1. **Material Design Icons**（免费）
   - 网址：https://fonts.google.com/icons
   - 风格：现代扁平化
   - 格式：PNG, SVG
   - 适合工业应用

2. **Font Awesome**（免费）
   - 网址：https://fontawesome.com/
   - 风格：专业简洁
   - 格式：SVG
   - 高质量矢量图标

3. **Flaticon**（部分免费）
   - 网址：https://www.flaticon.com/
   - 风格：多样化
   - 格式：PNG, SVG
   - 需注意授权

4. **IconFinder**（部分免费）
   - 网址：https://www.iconfinder.com/
   - 风格：工业风、扁平风
   - 格式：PNG, SVG, ICO

#### 推荐的图标规格

- **尺寸**：16x16, 20x20, 24x24, 32x32（多尺寸支持）
- **格式**：PNG（支持透明）或 SVG（矢量）
- **颜色**：单色或适配深色主题的浅色图标
- **风格**：统一的线性或扁平化风格

### 方法3：使用图标字体（高级）

对于更专业的图标管理，可以使用图标字体：

1. 安装 Font Awesome 或 Material Icons字体
2. 使用QFont渲染图标字符
3. 自动适配主题颜色

#### 示例代码：

```cpp
// 在Theme.cpp中添加
QIcon Theme::createFontIcon(const QString& unicode, const QColor& color) {
    QPixmap pixmap(32, 32);
    pixmap.fill(Qt::transparent);

    QPainter painter(&pixmap);
    QFont iconFont("Font Awesome 5 Free");  // 需要先安装字体
    iconFont.setPixelSize(24);
    painter.setFont(iconFont);
    painter.setPen(color);
    painter.drawText(pixmap.rect(), Qt::AlignCenter, unicode);

    return QIcon(pixmap);
}
```

---

## 图标命名规范

所有图标名称已在 `include/ui/Theme.h` 中的 `Icons` 命名空间定义：

```cpp
namespace Icons {
    // 文件操作
    constexpr const char* FILE_OPEN = "file-open";
    constexpr const char* FILE_SAVE = "file-save";
    // ... 更多图标
}
```

添加新图标时：
1. 在 `Icons` 命名空间中添加常量
2. 图标文件命名与常量值匹配
3. 放在 `resources/icons/` 目录下

---

## 测试图标

### 快速测试

1. 准备几个测试图标（建议从Material Design Icons下载）
2. 放置到 `resources/icons/` 目录
3. 创建 `resources.qrc` 文件
4. 在 `src/CMakeLists.txt` 中启用资源
5. 重新编译并运行

### 预期效果

- ✅ 菜单项左侧显示图标
- ✅ 工具栏按钮显示图标+文字
- ✅ 停靠窗口工具栏显示图标
- ✅ 所有图标适配深色主题

---

## 当前图标映射（Qt标准图标备用）

如果没有提供自定义图标，系统会自动使用Qt标准图标：

| 功能 | 自定义图标名 | Qt备用图标 |
|------|-------------|-----------|
| 打开文件 | file-open | SP_DialogOpenButton |
| 保存文件 | file-save | SP_DialogSaveButton |
| 退出 | application-exit | SP_DialogCloseButton |
| 添加 | list-add | SP_FileDialogNewFolder |
| 删除 | list-remove | SP_TrashIcon |
| 运行 | media-playback-start | SP_MediaPlay |
| 停止 | media-playback-stop | SP_MediaStop |
| 帮助 | help-browser | SP_MessageBoxQuestion |

---

## 主题自定义

### 修改颜色方案

编辑 `src/ui/Theme.cpp` 中的 `getIndustrialDarkStyleSheet()` 函数：

```cpp
QString Theme::getIndustrialDarkStyleSheet()
{
    return R"(
        /* 修改主色调 */
        QMenuBar::item:pressed {
            background-color: #007acc;  /* 改成您喜欢的颜色 */
        }

        /* 更多样式... */
    )";
}
```

### 添加新主题

1. 在 `Theme.h` 的 `ThemeType` 枚举中添加新主题类型
2. 在 `Theme.cpp` 中实现对应的样式表函数
3. 在 `main.cpp` 中切换主题：

```cpp
Theme::applyTheme(Theme::YourNewTheme);
```

---

## 常见问题

### Q: 图标不显示怎么办？
A: 检查以下几点：
1. 资源文件是否已添加到CMakeLists.txt
2. qrc文件路径是否正确
3. 图标文件名是否与Icons命名空间中的常量匹配
4. 重新运行cmake并完全重新编译

### Q: 如何调整图标大小？
A: 在对应的工具栏设置中修改：
```cpp
toolBar_->setIconSize(QSize(24, 24));  // 修改尺寸
```

### Q: 能否使用不同风格的图标？
A: 可以，但建议保持统一风格以保持专业性。

### Q: 图标在深色主题下看不清？
A: 确保使用浅色图标（白色或浅灰），或使用SVG图标通过代码动态着色。

---

## 下一步建议

1. **下载图标集**：从Material Design Icons下载完整图标包
2. **创建资源文件**：按照本指南创建qrc文件
3. **测试编译**：确保资源正确嵌入
4. **优化图标**：根据实际效果调整图标颜色和大小
5. **扩展主题**：添加浅色主题或自定义配色

---

## 参考链接

- Qt资源系统文档：https://doc.qt.io/qt-6/resources.html
- Qt样式表参考：https://doc.qt.io/qt-6/stylesheet-reference.html
- Material Design Icons：https://fonts.google.com/icons
- Font Awesome：https://fontawesome.com/

---

**当前状态**：主题系统已完全实现，等待添加自定义图标资源 ✅
