# VisionForge Pro 现场调试说明书

## 1. 简介
本手册旨在指导现场工程师快速诊断和解决 VisionForge Pro 视觉系统的常见问题。请遵循标准调试流程，确保系统稳定运行。

## 2. 调试流程概览

在开始任何调试之前，请参考以下标准工作流：

![调试流程图](debug_flowchart_1766393161704.png)

1. **硬件连接检查**: 确保相机、光源、PLC 网线连接牢固。
2. **相机状态**: 软件右下角应显示绿色连接图标。
3. **PLC 通讯**: 检查心跳信号是否跳变。
4. **图像采集**: 使用"单次采集"功能确认图像清晰度。

## 3. PLC 通讯诊断

如果设备无法接收触发信号或发送结果，请打开 **PLC 状态监视器**：

![PLC监视器](plc_monitor_mockup_1766393183169.png)

### 诊断步骤：
1. **IO 状态**: 观察 `X0` (触发信号) 是否随传感器动作变亮。
2. **数据寄存器**: 检查 `D0-D100` 数值是否在合理范围。
3. **连接指示灯**: 如果左上角显示红色 "DISCONNECTED"，请检查：
   - IP 地址设置是否与 PLC 在同一网段。
   - 端口号 (Port) 是否被防火墙拦截。
   - 网线是否松动。

## 4. 日志分析 (Log Analysis)

当系统出现异常时，日志是第一手资料。日志文件位于 `VisionForge.log`。

### 常见错误代码：
- **ERR_CAM_01**: 相机丢帧。
  - *解决*: 检查网卡巨型帧 (Jumbo Frame) 设置，建议设为 9014。
- **ERR_ALG_05**: 模板匹配失败。
  - *解决*: 检查光源亮度是否衰减，或产品位置是否超出视野。
- **ERR_PLC_99**: 通讯超时。
  - *解决*: 检查交换机负载，或增加超时阈值。

## 5. 常见问题排查 (FAQ)

### Q1: 软件运行一段时间后变卡？
- **原因**: 可能是内存泄漏或日志文件过大。
- **解决**: 检查任务管理器内存占用，定期清理旧日志。

### Q2: 相机偶尔断开连接？
- **原因**: 供电不足或静电干扰。
- **解决**: 使用独立 PoE 供电，确保相机外壳良好接地。

### Q3: 算法误判率高？
- **原因**: 环境光干扰或镜头光圈松动。
- **解决**: 制作遮光罩，使用锁紧螺丝固定光圈。

---
**技术支持**: support@visionforge.com
**版本**: v1.2.0
